<form (ngSubmit)="register()" [formGroup]="registerForm"
  class="flex flex-col justify-center items-center lg:w-[60%] mx-auto">
  <!-- <div class="h-[550px] overflow-y-auto grid grid-cols-2 gap-x-2 w-full md:w-[32rem]"> -->
  <div class="grid grid-cols-2 gap-x-6 w-full md:w-[80%]">
    <div class="relative lg:mt-8 mt-4 col-span-2 sm:col-span-1">
      <input
        class="{{
          hasError('first_name') ? 'input-error' : 'input-primary'
        }} rounded-lg border border-gray-30 input lg:pl-4 w-full bg-transparent h-14"
        formControlName="first_name"
        placeholder="Vorname"
        [required]="true"
        type="text"
      />
      <span
        *ngIf="hasRequiredError('first_name')"
        class="label-text-alt text-red-400 pl-2"
      >
        <b>Vorname</b> wird benötigt
      </span>
    </div>

    <!-- 
    <mat-form-field class="relative mt-3 col-span-2 sm:col-span-1"  >
      <input matInput 
      class="{{hasError('first_name') ? 'input-error' : 'input-primary'}} rounded-lg bg-transparent  input lg:pl-4 w-full"
      
        formControlName="first_name" placeholder="Vorname" [required]="true" type="text">
      <div class="absolute left-0 top-3 flex items-center">
        <img alt="name_img" class="ml-4" src="assets/user--v1.png" />
      </div>
      <mat-error *ngIf="hasRequiredError('first_name')" class="label-text-alt text-red-400 pl-2">
        <b>Vorname</b> wird benötigt
      </mat-error>
    </mat-form-field> -->

    <!-- <mat-form-field appearance="outline" class="col-span-2 md:col-span-1">
      <mat-label class="font-montserrat">Fahrzeugname</mat-label>
      <input [required]="isRequired()" formControlName="name" matInput class="font-montserrat">
      <mat-error *ngIf="hasRequiredError('name')">
        <b>Fahrzeugname</b> ist erforderlich
      </mat-error>
    </mat-form-field> -->

    <div class="relative lg:mt-8 mt-4 col-span-2 sm:col-span-1">
      <input
        class="{{
          hasError('last_name') ? 'input-error' : 'input-primary'
        }} h-14  rounded-lg border border-gray-30 input lg:pl-4 w-full bg-transparent"
        formControlName="last_name"
        placeholder="Nachname"
        required
        type="text"
      />

      <span *ngIf="hasRequiredError('last_name')" class="label-text-alt text-red-400 pl-2">
        <b>Nachname</b> wird benötigt
      </span>
    </div>

    <div
      class="relative lg:mt-8 md:mt-6 mt-5 col-span-2 lg:col-span-2 grid grid-cols-2 gap-x-6"
    >
      <div>
        <input
          autocomplete="company_name"
          class="{{
            hasError('company_name') ? 'input-error' : 'input-primary'
          }}
      input lg:pl-4 w-full rounded-lg bg-transparent h-14 md:col-span-1 col-span-2"
          formControlName="company_name"
          placeholder="Firmenname"
          type="text"
          required
        />
        <span
          *ngIf="hasRequiredError('company_name')"
          class="label-text-alt text-red-400 pl-2"
        >
          <b>Firma</b> wird benötigt
        </span>
      </div>
      <div></div>
    </div>

    <div class="relative lg:mt-8 md:mt-6 mt-5 col-span-2 sm:col-span-1">
      <input
        [type]="showPassword ? 'text' : 'password'"
        autocomplete="new-password"
        class="{{
          hasError('password') ? 'input-error' : 'input-primary'
        }} rounded-lg bg-transparent  input lg:pl-4 w-full h-14"
        formControlName="password"
        minlength="8"
        placeholder="Passwort"
        required
      />
      <div class="absolute left-0 top-3 flex items-center">
        <!--
        <img
          (click)="togglePwd()"
          *ngIf="showPassword"
          alt="show_password_img"
          class="ml-4 cursor-pointer"
          src="assets/show-password.png"
        />
        <img
          (click)="togglePwd()"
          *ngIf="!showPassword"
          alt="password_img"
          class="ml-4 cursor-pointer"
          src="assets/password.png"
        />
        -->
      </div>
      <span *ngIf="hasRequiredError('password')" class="label-text-alt text-red-400 pl-2">
        <b>Passwort</b> wird benötigt
      </span>
      <span *ngIf="hasMinLengthError('password')" class="label-text-alt text-red-400 pl-2">
        <b>Passwort</b> muss mindestens 8 Zeichen lang sein
      </span>
    </div>

    <div class="relative lg:mt-8 md:mt-6 mt-5 col-span-2 sm:col-span-1">
      <input
        [type]="showPassword ? 'text' : 'password'"
        autocomplete="new-password"
        class="{{
          hasError('password') ? 'input-error' : 'input-primary'
        }} rounded-lg bg-transparent  input lg:pl-4 w-full h-14"
        formControlName="passwordConfirmation"
        minlength="8"
        placeholder="Passwort wiederholen"
        required
      />
      <div class="absolute left-0 top-3 flex items-center">
        <!--
          <img
            (click)="togglePwd()"
            *ngIf="showPassword"
            alt="show_password_img"
            class="ml-4 cursor-pointer"
            src="assets/show-password.png"
          />
          <img
            (click)="togglePwd()"
            *ngIf="!showPassword"
            alt="password_img"
            class="ml-4 cursor-pointer"
            src="assets/password.png"
          />
          -->
      </div>
      <span *ngIf="hasRequiredError('passwordConfirmation')" class="label-text-alt text-red-400 pl-2">
        <b>Passwort</b> wird benötigt
      </span>
      <span *ngIf="hasMinLengthError('passwordConfirmation')" class="label-text-alt text-red-400 pl-2">
        <b>Passwort</b> muss mindestens 8 Zeichen lang sein
      </span>
    </div>
    <div class="col-span-2 justify-center my-3">
      <p class="text-[#7B7B7B] text-sm pl-4 w-full">
        8 oder mehr Zeichen mit einer Mischung aus Buchstaben, Ziffern und
        Symbolen verwenden
      </p>
    </div>
    <div class="col-span-2 justify-center pl-4">
      <div (click)="togglePwd()" class="flex space-x-4 w-full items-center hover:cursor-pointer">
        <span class="border border-[#505050] h-5 w-5 rounded-sm relative">
          <div id="tick-mark" *ngIf="showPassword"></div>
        </span>
        <span class="text-white">Passwort anzeigen</span>
      </div>
    </div>
    <div class="relative lg:mt-8 md:mt-6 mt-5 col-span-2 lg:col-span-1">
      <input
        class="{{
          hasError('email') ? 'input-error' : 'input-primary'
        }} input lg:pl-4 w-full rounded-lg bg-transparent h-14"
        formControlName="email"
        placeholder="E-Mail"
        required
        type="email"
      />

      <span *ngIf="hasRequiredError('email')" class="label-text-alt text-red-400 pl-2">
        <b>E-Mail</b> wird benötigt
      </span>
      <span *ngIf="hasEmailError('email')" class="label-text-alt text-red-400 pl-2">
        <b>E-Mail</b> ist ungültig
      </span>
    </div>


    <div class="relative lg:mt-8 md:mt-6 col-span-2 lg:col-span-1">
      <input class="{{hasError('username') ? 'input-error' : 'input-primary' }} input lg:pl-4 w-full rounded-lg bg-transparent h-14" formControlName="username" placeholder="Nutzername"
        required type="text" />
      <!-- <div class="absolute left-0 top-3 flex items-center">
        <img class="ml-4" src="assets/user.png" />
      </div> -->
      <span *ngIf="hasRequiredError('username')" class="label-text-alt text-red-400 pl-2">
        <b>Nutzername</b> wird benötigt
      </span>
    </div>

    <div class="col-span-2 justify-center mt-6 pl-4">
      <div (click)="toggleTerm()" class="flex space-x-4 w-full items-center hover:cursor-pointer">
        <span class="border border-[#505050] h-5 w-5 rounded-sm relative">
          <div id="tick-mark" *ngIf="term"></div>
        </span>
        <span class="text-white">Ich stimme den AGBs zu.</span>
      </div>
    </div>
    <div class="col-span-2 justify-center pl-4 text-lg my-2">
      <div class="flex justify-between items-end">
        <p
          (click)="naviagateToTab('login')"
          class="text-blue-10 text-sm font-bold hover:cursor-pointer"
        >
          Stattdessen anmelden
        </p>

        <button class="btn w-40 bg-blue-10 px-4 rounded-lg" type="submit">
          <mat-spinner *ngIf="isLoading" class="mr-2" diameter="18"></mat-spinner>
          <span class="tracking-wide">Weiter</span>
        </button>
      </div>
    </div>
  </div>
</form>